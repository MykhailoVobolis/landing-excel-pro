{"version":3,"file":"index.js","sources":["../src/js/timer.js","../src/js/form.js","../src/js/modal.js"],"sourcesContent":["const dayScoreboard = document.querySelector('[data-days]');\nconst hourScoreboard = document.querySelector('[data-hours]');\nconst minuteScoreboard = document.querySelector('[data-minutes]');\nconst secondScoreboard = document.querySelector('[data-seconds]');\n\nconst modalDayScoreboard = document.querySelector('.modal [data-days]');\nconst modalHourScoreboard = document.querySelector('.modal [data-hours]');\nconst modalMinuteScoreboard = document.querySelector('.modal [data-minutes]');\nconst modalSecondScoreboard = document.querySelector('.modal [data-seconds]');\n\nconst userSelectedDate = new Date('2025-06-01T19:30:00').getTime();\n\nlet intervalTime;\n\nfunction startTimer() {\n  function update() {\n    const now = Date.now();\n    const ms = userSelectedDate - now;\n\n    if (ms <= 0) {\n      clearInterval(intervalTime);\n      updateTimer(0, 0, 0, 0);\n      return;\n    }\n\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    updateTimer(days, hours, minutes, seconds);\n  }\n\n  // Викликаємо оновлення відразу при старті\n  update();\n\n  // Запускаємо інтервал\n  intervalTime = setInterval(update, 1000);\n}\n\n// Оновлюємо таймер в обох місцях\nfunction updateTimer(days, hours, minutes, seconds) {\n  // Оновлення на основній сторінці\n  dayScoreboard.textContent = String(days).padStart(2, '0');\n  hourScoreboard.textContent = String(hours).padStart(2, '0');\n  minuteScoreboard.textContent = String(minutes).padStart(2, '0');\n  secondScoreboard.textContent = String(seconds).padStart(2, '0');\n\n  // Оновлення в модалці\n  if (\n    modalDayScoreboard &&\n    modalHourScoreboard &&\n    modalMinuteScoreboard &&\n    modalSecondScoreboard\n  ) {\n    modalDayScoreboard.textContent = String(days).padStart(2, '0');\n    modalHourScoreboard.textContent = String(hours).padStart(2, '0');\n    modalMinuteScoreboard.textContent = String(minutes).padStart(2, '0');\n    modalSecondScoreboard.textContent = String(seconds).padStart(2, '0');\n  }\n}\n\n// Запуск таймера на сторінці\nstartTimer();\n","import axios from 'axios';\nimport validator from 'validator';\nimport Inputmask from 'inputmask';\n\n// Функція для ініціалізації форми\nfunction initializeForm(formElement) {\n  const localStorageKey = 'register-form-state';\n  const savedLocalStorageKey = localStorage.getItem(localStorageKey);\n  const register = JSON.parse(savedLocalStorageKey) ?? {};\n  const userName = formElement.elements.username;\n  const userEmail = formElement.elements.email;\n  const userPhone = formElement.elements.phone;\n  const userPrivacy = formElement.elements.userPrivacy;\n\n  const modalOverlay = document.querySelector('.modal-overlay');\n\n  userName.value = register.name ?? '';\n  userEmail.value = register.email ?? '';\n  userPhone.value = register.phone ?? '';\n\n  formElement.addEventListener('input', recordLocalStorage);\n  formElement.addEventListener('submit', sendingData);\n\n  // Записуємо дані в LocalStorage при кожному введенні\n  function recordLocalStorage(event) {\n    register.name = formElement.elements.username.value.trim();\n    register.email = formElement.elements.email.value.trim();\n    register.phone = formElement.elements.phone.value.trim();\n    localStorage.setItem(localStorageKey, JSON.stringify(register));\n  }\n\n  // Відправка даних форми\n  async function sendingData(event) {\n    event.preventDefault();\n\n    resetErrors();\n\n    let isValid = true;\n\n    if (!userName.value.trim()) {\n      setError(userName, \"Це поле є обов'язковим\");\n      isValid = false;\n    }\n\n    if (!userEmail.value.trim()) {\n      setError(userEmail, \"Це поле є обов'язковим\");\n      isValid = false;\n    } else if (!validator.isEmail(userEmail.value)) {\n      setError(userEmail, 'Невірний формат email');\n      isValid = false;\n    }\n\n    if (!userPhone.value.trim()) {\n      setError(userPhone, \"Це поле є обов'язковим\");\n      isValid = false;\n    } else if (\n      !validator.matches(userPhone.value, /^\\+380 \\(\\d{2}\\) \\d{3} \\d{2} \\d{2}$/)\n    ) {\n      setError(userPhone, 'Невірний формат телефону');\n      isValid = false;\n    }\n\n    if (!userPrivacy.checked) {\n      setError(userPrivacy, 'Потрібно погодитись з політикою конфіденційності');\n      isValid = false;\n    }\n\n    if (isValid) {\n      const formData = {\n        name: userName.value.trim(),\n        email: userEmail.value.trim(),\n        phone: userPhone.value.trim(),\n      };\n\n      try {\n        // Надсилання POST-запиту на неіснуючий ендпоінт\n        const response = await axios.post(\n          'https://example.com/register',\n          formData\n        );\n\n        localStorage.removeItem(localStorageKey);\n        formElement.reset();\n\n        alert('Дані форми успішно надіслані');\n      } catch (error) {\n        alert('Сталася помилка при відправленні даних форми');\n\n        // Тільки для демонстрації !!!\n        localStorage.removeItem(localStorageKey);\n        formElement.reset();\n      } finally {\n        modalOverlay.classList.remove('active');\n      }\n    }\n  }\n\n  // Оновлення помилок\n  function setError(inputElement, message) {\n    const errorMessageElement = inputElement.nextElementSibling;\n    errorMessageElement.textContent = message;\n    errorMessageElement.classList.add('show');\n  }\n\n  // Скидання помилок\n  function resetErrors() {\n    const inputs = formElement.querySelectorAll('.form-input');\n    inputs.forEach(input => {\n      const errorMessageElement = input.nextElementSibling;\n      errorMessageElement.classList.remove('show');\n    });\n  }\n\n  // Маска для телефону\n  const phoneInput = formElement.querySelector('input[name=\"phone\"]');\n  const im = new Inputmask('+380 (99) 999 99 99');\n  im.mask(phoneInput);\n}\n\n// Ініціалізація форми для `hero` та модалки\ndocument.addEventListener('DOMContentLoaded', () => {\n  const heroForm = document.querySelector('.hero form');\n  const modalForm = document.querySelector('.modal form');\n\n  if (heroForm) {\n    initializeForm(heroForm);\n  }\n\n  if (modalForm) {\n    initializeForm(modalForm);\n  }\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const modal = document.querySelector('.modal-overlay');\n  const openBtn = document.querySelector('.registration-toggle-btn');\n  const closeBtn = document.querySelector('.close-modal');\n\n  openBtn.addEventListener('click', () => {\n    if (window.innerWidth < 768) {\n      modal.classList.add('active');\n    }\n  });\n\n  closeBtn.addEventListener('click', () => {\n    modal.classList.remove('active');\n  });\n\n  modal.addEventListener('click', e => {\n    if (e.target === modal) {\n      modal.classList.remove('active');\n    }\n  });\n});\n"],"names":["dayScoreboard","hourScoreboard","minuteScoreboard","secondScoreboard","modalDayScoreboard","modalHourScoreboard","modalMinuteScoreboard","modalSecondScoreboard","userSelectedDate","intervalTime","startTimer","update","now","ms","updateTimer","second","minute","hour","day","days","hours","minutes","seconds","initializeForm","formElement","localStorageKey","savedLocalStorageKey","register","userName","userEmail","userPhone","userPrivacy","modalOverlay","recordLocalStorage","sendingData","event","resetErrors","isValid","setError","validator","formData","response","axios","inputElement","message","errorMessageElement","input","phoneInput","Inputmask","heroForm","modalForm","modal","openBtn","closeBtn","e"],"mappings":"owBAAA,MAAMA,EAAgB,SAAS,cAAc,aAAa,EACpDC,EAAiB,SAAS,cAAc,cAAc,EACtDC,EAAmB,SAAS,cAAc,gBAAgB,EAC1DC,EAAmB,SAAS,cAAc,gBAAgB,EAE1DC,EAAqB,SAAS,cAAc,oBAAoB,EAChEC,EAAsB,SAAS,cAAc,qBAAqB,EAClEC,EAAwB,SAAS,cAAc,uBAAuB,EACtEC,EAAwB,SAAS,cAAc,uBAAuB,EAEtEC,EAAmB,IAAI,KAAK,qBAAqB,EAAE,QAAO,EAEhE,IAAIC,EAEJ,SAASC,GAAa,CACpB,SAASC,GAAS,CAChB,MAAMC,EAAM,KAAK,MACXC,EAAKL,EAAmBI,EAE9B,GAAIC,GAAM,EAAG,CACX,cAAcJ,CAAY,EAC1BK,EAAY,EAAG,EAAG,EAAG,CAAC,EACtB,MACD,CAED,MAAMC,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAEbE,EAAO,KAAK,MAAMN,EAAKK,CAAG,EAC1BE,EAAQ,KAAK,MAAOP,EAAKK,EAAOD,CAAI,EACpCI,EAAU,KAAK,MAAQR,EAAKK,EAAOD,EAAQD,CAAM,EACjDM,EAAU,KAAK,MAAST,EAAKK,EAAOD,EAAQD,EAAUD,CAAM,EAElED,EAAYK,EAAMC,EAAOC,EAASC,CAAO,CAC1C,CAGDX,IAGAF,EAAe,YAAYE,EAAQ,GAAI,CACzC,CAGA,SAASG,EAAYK,EAAMC,EAAOC,EAASC,EAAS,CAElDtB,EAAc,YAAc,OAAOmB,CAAI,EAAE,SAAS,EAAG,GAAG,EACxDlB,EAAe,YAAc,OAAOmB,CAAK,EAAE,SAAS,EAAG,GAAG,EAC1DlB,EAAiB,YAAc,OAAOmB,CAAO,EAAE,SAAS,EAAG,GAAG,EAC9DlB,EAAiB,YAAc,OAAOmB,CAAO,EAAE,SAAS,EAAG,GAAG,EAI5DlB,GACAC,GACAC,GACAC,IAEAH,EAAmB,YAAc,OAAOe,CAAI,EAAE,SAAS,EAAG,GAAG,EAC7Dd,EAAoB,YAAc,OAAOe,CAAK,EAAE,SAAS,EAAG,GAAG,EAC/Dd,EAAsB,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,EACnEd,EAAsB,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,EAEvE,CAGAZ,EAAY,EC/DZ,SAASa,EAAeC,EAAa,CACnC,MAAMC,EAAkB,sBAClBC,EAAuB,aAAa,QAAQD,CAAe,EAC3DE,EAAW,KAAK,MAAMD,CAAoB,GAAK,CAAA,EAC/CE,EAAWJ,EAAY,SAAS,SAChCK,EAAYL,EAAY,SAAS,MACjCM,EAAYN,EAAY,SAAS,MACjCO,EAAcP,EAAY,SAAS,YAEnCQ,EAAe,SAAS,cAAc,gBAAgB,EAE5DJ,EAAS,MAAQD,EAAS,MAAQ,GAClCE,EAAU,MAAQF,EAAS,OAAS,GACpCG,EAAU,MAAQH,EAAS,OAAS,GAEpCH,EAAY,iBAAiB,QAASS,CAAkB,EACxDT,EAAY,iBAAiB,SAAUU,CAAW,EAGlD,SAASD,EAAmBE,EAAO,CACjCR,EAAS,KAAOH,EAAY,SAAS,SAAS,MAAM,OACpDG,EAAS,MAAQH,EAAY,SAAS,MAAM,MAAM,OAClDG,EAAS,MAAQH,EAAY,SAAS,MAAM,MAAM,OAClD,aAAa,QAAQC,EAAiB,KAAK,UAAUE,CAAQ,CAAC,CAC/D,CAGD,eAAeO,EAAYC,EAAO,CAChCA,EAAM,eAAc,EAEpBC,IAEA,IAAIC,EAAU,GA8Bd,GA5BKT,EAAS,MAAM,SAClBU,EAASV,EAAU,wBAAwB,EAC3CS,EAAU,IAGPR,EAAU,MAAM,OAGTU,EAAU,QAAQV,EAAU,KAAK,IAC3CS,EAAST,EAAW,uBAAuB,EAC3CQ,EAAU,KAJVC,EAAST,EAAW,wBAAwB,EAC5CQ,EAAU,IAMPP,EAAU,MAAM,OAIlBS,EAAU,QAAQT,EAAU,MAAO,qCAAqC,IAEzEQ,EAASR,EAAW,0BAA0B,EAC9CO,EAAU,KANVC,EAASR,EAAW,wBAAwB,EAC5CO,EAAU,IAQPN,EAAY,UACfO,EAASP,EAAa,kDAAkD,EACxEM,EAAU,IAGRA,EAAS,CACX,MAAMG,EAAW,CACf,KAAMZ,EAAS,MAAM,KAAM,EAC3B,MAAOC,EAAU,MAAM,KAAM,EAC7B,MAAOC,EAAU,MAAM,KAAM,CACrC,EAEM,GAAI,CAEF,MAAMW,EAAW,MAAMC,EAAM,KAC3B,+BACAF,CACV,EAEQ,aAAa,WAAWf,CAAe,EACvCD,EAAY,MAAK,EAEjB,MAAM,8BAA8B,CACrC,MAAe,CACd,MAAM,8CAA8C,EAGpD,aAAa,WAAWC,CAAe,EACvCD,EAAY,MAAK,CACzB,QAAgB,CACRQ,EAAa,UAAU,OAAO,QAAQ,CACvC,CACF,CACF,CAGD,SAASM,EAASK,EAAcC,EAAS,CACvC,MAAMC,EAAsBF,EAAa,mBACzCE,EAAoB,YAAcD,EAClCC,EAAoB,UAAU,IAAI,MAAM,CACzC,CAGD,SAAST,GAAc,CACNZ,EAAY,iBAAiB,aAAa,EAClD,QAAQsB,GAAS,CACMA,EAAM,mBACd,UAAU,OAAO,MAAM,CACjD,CAAK,CACF,CAGD,MAAMC,EAAavB,EAAY,cAAc,qBAAqB,EACvD,IAAIwB,EAAU,qBAAqB,EAC3C,KAAKD,CAAU,CACpB,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAME,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAElDD,GACF1B,EAAe0B,CAAQ,EAGrBC,GACF3B,EAAe2B,CAAS,CAE5B,CAAC,ECnID,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAQ,SAAS,cAAc,gBAAgB,EAC/CC,EAAU,SAAS,cAAc,0BAA0B,EAC3DC,EAAW,SAAS,cAAc,cAAc,EAEtDD,EAAQ,iBAAiB,QAAS,IAAM,CAClC,OAAO,WAAa,KACtBD,EAAM,UAAU,IAAI,QAAQ,CAElC,CAAG,EAEDE,EAAS,iBAAiB,QAAS,IAAM,CACvCF,EAAM,UAAU,OAAO,QAAQ,CACnC,CAAG,EAEDA,EAAM,iBAAiB,QAASG,GAAK,CAC/BA,EAAE,SAAWH,GACfA,EAAM,UAAU,OAAO,QAAQ,CAErC,CAAG,CACH,CAAC"}